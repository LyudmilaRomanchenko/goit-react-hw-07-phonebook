(this["webpackJsonpgoit-react-hw-02-phonebook"]=this["webpackJsonpgoit-react-hw-02-phonebook"]||[]).push([[0],{19:function(t,e,n){t.exports={container:"Phonebook_container__yuqd0",phonebookContainer:"Phonebook_phonebookContainer__2dE-z",contactsContainer:"Phonebook_contactsContainer__37GKm",list:"Phonebook_list__1awkP"}},22:function(t,e,n){t.exports={number:"ContactElement_number__2IjIg",button:"ContactElement_button__2v0M8"}},23:function(t,e,n){t.exports={item:"ContactList_item__2s3aW"}},24:function(t,e,n){t.exports={findLable:"Filter_findLable__2s361",find:"Filter_find__3EHpz"}},45:function(t,e,n){},67:function(t,e,n){"use strict";n.r(e);var c={};n.r(c),n.d(c,"fetchContacts",(function(){return z})),n.d(c,"addContact",(function(){return A})),n.d(c,"deleteContact",(function(){return S}));var a={};n.r(a),n.d(a,"getContacts",(function(){return I})),n.d(a,"getFilter",(function(){return J})),n.d(a,"getVisibleContacts",(function(){return M}));var r=n(0),o=n.n(r),s=n(15),i=n.n(s),u=n(6),b=(n(45),n(2)),l=n.n(b),d=n(22),j=n.n(d),f=n(1);function p(t){var e=t.id,n=t.name,c=t.number,a=t.deleteContact;return Object(f.jsxs)("p",{children:[Object(f.jsxs)("span",{children:[n,":"]}),Object(f.jsx)("span",{className:j.a.number,children:c}),Object(f.jsx)("button",{className:j.a.button,type:"button",onClick:function(){return a(e)},children:"Delete"})]})}p.prototype={id:l.a.string.isRequired,name:l.a.string.isRequired,number:l.a.number.isRequired,deleteContact:l.a.func.isRequired},l.a.checkPropTypes(p);var m=p,h=n(23),O=n.n(h),C=n(7),v=n.n(C),x=n(18),_=n(11),g=n.n(_),k=n(3),y=Object(k.b)("contacts/addContactsRequest"),q=Object(k.b)("contacts/addContactsSuccsess"),R=Object(k.b)("contacts/addContactsError"),N=Object(k.b)("contacts/deleteContactsRequest"),w=Object(k.b)("contacts/deleteContactsSuccsess"),E=Object(k.b)("contacts/deleteContactsError"),F=Object(k.b)("contacts/fetchContactsRequest"),L=Object(k.b)("contacts/fetchContactsSuccsess"),P=Object(k.b)("contacts/fetchContactsError"),T=Object(k.b)("contacts/changeFilter");g.a.defaults.baseURL="http://localhost:4040";var z=function(){return function(){var t=Object(x.a)(v.a.mark((function t(e){var n,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(F()),t.prev=1,t.next=4,g.a.get("/contacts");case 4:n=t.sent,c=n.data,e(L(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(P(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},A=function(t,e){return function(){var n=Object(x.a)(v.a.mark((function n(c){var a,r,o;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={name:t,number:e},c(y()),n.prev=2,n.next=5,g.a.post("/contacts",a);case 5:r=n.sent,o=r.data,c(q(o)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),c(R(n.t0));case 13:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(t){return n.apply(this,arguments)}}()},S=function(t){return function(){var e=Object(x.a)(v.a.mark((function e(n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(N());try{g.a.delete("/contacts/".concat(t)),n(w(t))}catch(c){n(E(c))}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},I=function(t){return t.contacts.items},J=function(t){return t.contacts.filter},M=function(t){var e=I(t),n=J(t).toLocaleLowerCase();return e.filter((function(t){return t.name.toLocaleLowerCase().includes(n)}))};function Z(){var t=Object(u.c)(a.getVisibleContacts),e=Object(u.b)(),n=function(t){return e(c.deleteContact(t))};return Object(r.useEffect)((function(){e(c.fetchContacts())}),[e]),Object(f.jsx)("ul",{className:O.a.list,children:t.map((function(t){var e=t.id,c=t.name,a=t.number;return Object(f.jsx)("li",{className:O.a.item,children:Object(f.jsx)(m,{id:e,name:c,number:a,deleteContact:n})},e)}))})}var B=Z;Z.prototype={id:l.a.string.isRequired,name:l.a.string.isRequired,number:l.a.number.isRequired,deleteContact:l.a.func.isRequired},l.a.checkPropTypes(Z);var D=n(25),K=n(9),V=n.n(K);function W(){var t=Object(u.c)(a.getContacts),e=Object(u.b)(),n=Object(r.useState)(""),o=Object(D.a)(n,2),s=o[0],i=o[1],b=Object(r.useState)(""),l=Object(D.a)(b,2),d=l[0],j=l[1],p=function(t){"name"===t.currentTarget.name&&i(t.currentTarget.value),"number"===t.currentTarget.name&&j(t.currentTarget.value)};return Object(f.jsxs)("form",{onSubmit:function(n){if(n.preventDefault(),t.find((function(t){return t.name===s})))return alert("".concat(s," is alredy in contacts"));!function(t,n){e(c.addContact(t,n))}(s,d),i(""),j("")},children:[Object(f.jsxs)("label",{className:V.a.lableContact,children:["Name",Object(f.jsx)("input",{className:V.a.inputContact,type:"text",name:"name",value:s,onChange:p,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0})]}),Object(f.jsxs)("label",{className:V.a.lableContact,children:["Number",Object(f.jsx)("input",{className:V.a.inputContact,type:"tel",name:"number",value:d,onChange:p,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0})]}),Object(f.jsx)("button",{className:V.a.button,type:"submit",children:"Add contact"})]})}var G=W;W.prototype={contacts:l.a.arrayOf(l.a.shape({id:l.a.string.isRequired,name:l.a.string.isRequired,number:l.a.number.isRequired}).isRequired),addContact:l.a.func.isRequired};var H=n(24),U=n.n(H);function $(){var t=Object(u.c)(a.getFilter),e=Object(u.b)();return Object(f.jsxs)("label",{className:U.a.findLable,children:["Find contacts by name",Object(f.jsx)("input",{className:U.a.find,type:"text",value:t,onChange:function(t){return e(T(t.currentTarget.value))}})]})}var Q=$;$.prototype={filter:l.a.string.isRequired,onChange:l.a.func.isRequired},l.a.checkPropTypes($);var X=n(19),Y=n.n(X);var tt,et=function(){return Object(f.jsxs)("div",{className:Y.a.container,children:[Object(f.jsxs)("div",{className:Y.a.phonebookContainer,children:[Object(f.jsx)("h1",{children:"Phonebook"}),Object(f.jsx)(G,{})]}),Object(f.jsxs)("div",{className:Y.a.contactsContainer,children:[Object(f.jsx)("h2",{children:"Contacts"}),Object(f.jsx)(Q,{}),Object(f.jsx)(B,{})]})]})},nt=n(17),ct=n(8),at=n(35),rt=n.n(at),ot=n(12),st=n(4),it=Object(k.c)([],(tt={},Object(ot.a)(tt,L,(function(t,e){return e.payload})),Object(ot.a)(tt,q,(function(t,e){var n=e.payload;return[].concat(Object(nt.a)(t),[n])})),Object(ot.a)(tt,w,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),tt)),ut=Object(k.c)("",Object(ot.a)({},T,(function(t,e){return e.payload}))),bt=Object(st.b)({items:it,filter:ut}),lt=[].concat(Object(nt.a)(Object(k.d)({serializableCheck:{ignoredActions:[ct.a,ct.f,ct.b,ct.c,ct.d,ct.e]}})),[function(t){return function(t){return function(e){console.log("\u041c\u043e\u044f \u043f\u0440\u043e\u0441\u043b\u043e\u0439\u043a\u0430",e),t(e)}}},rt.a]),dt=Object(k.a)({reducer:{contacts:bt},middleware:lt,devTools:!1});i.a.render(Object(f.jsx)(u.a,{store:dt,children:Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(et,{})})}),document.getElementById("root"))},9:function(t,e,n){t.exports={lableContact:"ContactForm_lableContact__2kzKW",inputContact:"ContactForm_inputContact__2w5km",button:"ContactForm_button__1a33m"}}},[[67,1,2]]]);
//# sourceMappingURL=main.f117fea2.chunk.js.map